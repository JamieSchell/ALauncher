# üöÄ –†—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ —Å–∏—Å—Ç–µ–º–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –ª–∞—É–Ω—á–µ—Ä–∞

## –û–±–∑–æ—Ä

–°–∏—Å—Ç–µ–º–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –ª–∞—É–Ω—á–µ—Ä–∞ –ø–æ–∑–≤–æ–ª—è–µ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º –ø–æ–ª—É—á–∞—Ç—å –ø–æ—Å–ª–µ–¥–Ω–∏–µ –≤–µ—Ä—Å–∏–∏ –ª–∞—É–Ω—á–µ—Ä–∞ –±–µ–∑ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ –≤—Ä—É—á–Ω—É—é —Å–∫–∞—á–∏–≤–∞—Ç—å –∏ —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞—Ç—å –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è.

## ‚ú® –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

- ‚úÖ **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π** –ø—Ä–∏ –∑–∞–ø—É—Å–∫–µ –ª–∞—É–Ω—á–µ—Ä–∞
- ‚úÖ **–ë–µ–∑–æ–ø–∞—Å–Ω–æ–µ —Å–∫–∞—á–∏–≤–∞–Ω–∏–µ** —Å –ø—Ä–æ–≤–µ—Ä–∫–æ–π —Ü–µ–ª–æ—Å—Ç–Ω–æ—Å—Ç–∏ —á–µ—Ä–µ–∑ SHA-256
- ‚úÖ **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è —É—Å—Ç–∞–Ω–æ–≤–∫–∞** –∏ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫
- ‚úÖ **–û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è** –¥–ª—è –∫—Ä–∏—Ç–∏—á–Ω—ã—Ö –≤–µ—Ä—Å–∏–π
- ‚úÖ **–ö—Ä–∞—Å–∏–≤—ã–π UI** —Å –ø—Ä–æ–≥—Ä–µ—Å—Å–æ–º –∑–∞–≥—Ä—É–∑–∫–∏ –∏ –∑–∞–º–µ—Ç–∫–∞–º–∏ –æ —Ä–µ–ª–∏–∑–µ
- ‚úÖ **–ü–æ–¥–¥–µ—Ä–∂–∫–∞ –≤—Å–µ—Ö –ø–ª–∞—Ç—Ñ–æ—Ä–º** (Windows, macOS, Linux)

## üìã –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è

1. –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö MySQL —Å —Ç–∞–±–ª–∏—Ü–µ–π `launcher_versions`
2. –§–∞–π–ª—ã —É—Å—Ç–∞–Ω–æ–≤—â–∏–∫–æ–≤ –ª–∞—É–Ω—á–µ—Ä–∞, –¥–æ—Å—Ç—É–ø–Ω—ã–µ –ø–æ HTTP/HTTPS
3. Backend —Å–µ—Ä–≤–µ—Ä —Å –Ω–∞—Å—Ç—Ä–æ–µ–Ω–Ω—ã–º–∏ API endpoints

## üõ†Ô∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∞

### 1. –ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ –º–∏–≥—Ä–∞—Ü–∏–π –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö

```bash
cd packages/backend
npm run generate  # –ì–µ–Ω–µ—Ä–∞—Ü–∏—è Prisma Client
npx prisma db push  # –ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ —Å—Ö–µ–º—ã
```

### 2. –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –≤–µ—Ä—Å–∏–∏ –ª–∞—É–Ω—á–µ—Ä–∞ –≤ –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö

–ü–æ—Å–ª–µ —Å–±–æ—Ä–∫–∏ –ª–∞—É–Ω—á–µ—Ä–∞, –≤–µ—Ä—Å–∏—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –¥–æ–±–∞–≤–ª—è–µ—Ç—Å—è –≤ –ë–î —á–µ—Ä–µ–∑ —Å–∫—Ä–∏–ø—Ç `update-launcher-version.js`.

–î–ª—è —Ä—É—á–Ω–æ–≥–æ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –≤–µ—Ä—Å–∏–∏:

```bash
cd packages/backend
npm run add-launcher-version <version> <downloadUrl> [releaseNotes] [isRequired]
```

–ü—Ä–∏–º–µ—Ä:
```bash
npm run add-launcher-version 1.0.133 https://example.com/launcher-1.0.133-Setup.exe "–ò—Å–ø—Ä–∞–≤–ª–µ–Ω—ã –±–∞–≥–∏" false
```

### 3. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ downloadUrl

–ü–æ—Å–ª–µ —Å–±–æ—Ä–∫–∏ –ª–∞—É–Ω—á–µ—Ä–∞, —Ñ–∞–π–ª—ã –Ω–∞—Ö–æ–¥—è—Ç—Å—è –≤ `packages/frontend/release/`:
- Windows: `Modern Launcher-1.0.133-Setup.exe`
- macOS: `Modern Launcher-1.0.133.dmg`
- Linux: `Modern Launcher-1.0.133.AppImage`

–ó–∞–≥—Ä—É–∑–∏—Ç–µ —ç—Ç–∏ —Ñ–∞–π–ª—ã –Ω–∞ –≤–∞—à —Å–µ—Ä–≤–µ—Ä –∏–ª–∏ CDN –∏ —É–∫–∞–∂–∏—Ç–µ URL –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö.

### 4. –í—ã—á–∏—Å–ª–µ–Ω–∏–µ —Ö–µ—à–∞ —Ñ–∞–π–ª–∞ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ, –Ω–æ —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)

–î–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ —Ü–µ–ª–æ—Å—Ç–Ω–æ—Å—Ç–∏ —Ñ–∞–π–ª–∞, –¥–æ–±–∞–≤—å—Ç–µ SHA-256 —Ö–µ—à:

```bash
# Windows (PowerShell)
Get-FileHash -Path "Modern Launcher-1.0.133-Setup.exe" -Algorithm SHA256

# Linux/Mac
sha256sum "Modern Launcher-1.0.133-Setup.exe"
```

–ó–∞—Ç–µ–º –æ–±–Ω–æ–≤–∏—Ç–µ –∑–∞–ø–∏—Å—å –≤ –ë–î:
```sql
UPDATE launcher_versions 
SET fileHash = '–≤–∞—à_—Ö–µ—à_–∑–¥–µ—Å—å', 
    fileSize = —Ä–∞–∑–º–µ—Ä_—Ñ–∞–π–ª–∞_–≤_–±–∞–π—Ç–∞—Ö
WHERE version = '1.0.133';
```

## üì° API Endpoints

### –ü—Ä–æ–≤–µ—Ä–∫–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π

```
GET /api/launcher/check-update?currentVersion=1.0.132
```

–û—Ç–≤–µ—Ç:
```json
{
  "success": true,
  "data": {
    "hasUpdate": true,
    "currentVersion": "1.0.132",
    "latestVersion": {
      "version": "1.0.133",
      "downloadUrl": "https://example.com/launcher-1.0.133-Setup.exe",
      "fileHash": "abc123...",
      "fileSize": 52428800,
      "releaseNotes": "–ò—Å–ø—Ä–∞–≤–ª–µ–Ω—ã –±–∞–≥–∏",
      "isRequired": false,
      "createdAt": "2025-01-23T10:00:00Z"
    },
    "isRequired": false
  }
}
```

### –ü–æ–ª—É—á–µ–Ω–∏–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ –≤–µ—Ä—Å–∏–∏

```
GET /api/launcher/version/:version
```

### –°–ø–∏—Å–æ–∫ –≤—Å–µ—Ö –≤–µ—Ä—Å–∏–π

```
GET /api/launcher/versions
```

## üéÆ –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

### –î–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π

1. –ü—Ä–∏ –∑–∞–ø—É—Å–∫–µ –ª–∞—É–Ω—á–µ—Ä–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–æ–≤–µ—Ä—è–µ—Ç—Å—è –Ω–∞–ª–∏—á–∏–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π
2. –ï—Å–ª–∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –Ω–∞–π–¥–µ–Ω–æ, –ø–æ—è–≤–ª—è–µ—Ç—Å—è –º–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ
3. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –º–æ–∂–µ—Ç:
   - –ù–∞–∂–∞—Ç—å "–û–±–Ω–æ–≤–∏—Ç—å" –¥–ª—è –Ω–∞—á–∞–ª–∞ –∑–∞–≥—Ä—É–∑–∫–∏
   - –ù–∞–∂–∞—Ç—å "–ü–æ–∑–∂–µ" (–µ—Å–ª–∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –Ω–µ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ–µ)
4. –ü–æ—Å–ª–µ –∑–∞–≥—Ä—É–∑–∫–∏ —Ñ–∞–π–ª –ø—Ä–æ–≤–µ—Ä—è–µ—Ç—Å—è –Ω–∞ —Ü–µ–ª–æ—Å—Ç–Ω–æ—Å—Ç—å
5. –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è —É—Å—Ç–∞–Ω–æ–≤—â–∏–∫
6. –õ–∞—É–Ω—á–µ—Ä –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è —Å –Ω–æ–≤–æ–π –≤–µ—Ä—Å–∏–µ–π

### –î–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤

#### –û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è

–ß—Ç–æ–±—ã —Å–¥–µ–ª–∞—Ç—å –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–º:

```sql
UPDATE launcher_versions 
SET isRequired = 1 
WHERE version = '1.0.133';
```

–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –Ω–µ —Å–º–æ–≥—É—Ç –∑–∞–∫—Ä—ã—Ç—å –º–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è, –ø–æ–∫–∞ –Ω–µ –æ–±–Ω–æ–≤—è—Ç—Å—è.

#### –û—Ç–∫–ª—é—á–µ–Ω–∏–µ –≤–µ—Ä—Å–∏–∏

```sql
UPDATE launcher_versions 
SET enabled = 0 
WHERE version = '1.0.132';
```

#### –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –∑–∞–º–µ—Ç–æ–∫ –æ —Ä–µ–ª–∏–∑–µ

```sql
UPDATE launcher_versions 
SET releaseNotes = '–ò—Å–ø—Ä–∞–≤–ª–µ–Ω—ã –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –±–∞–≥–∏ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏\n–î–æ–±–∞–≤–ª–µ–Ω–∞ –Ω–æ–≤–∞—è —Ñ—É–Ω–∫—Ü–∏—è X\n–£–ª—É—á—à–µ–Ω–∞ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å' 
WHERE version = '1.0.133';
```

## üîí –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

1. **–ü—Ä–æ–≤–µ—Ä–∫–∞ —Ö–µ—à–∞**: –ï—Å–ª–∏ —É–∫–∞–∑–∞–Ω `fileHash`, —Ñ–∞–π–ª –ø—Ä–æ–≤–µ—Ä—è–µ—Ç—Å—è –ø–æ—Å–ª–µ –∑–∞–≥—Ä—É–∑–∫–∏
2. **HTTPS**: –†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å HTTPS –¥–ª—è downloadUrl
3. **–ü–æ–¥–ø–∏—Å–∏**: –î–ª—è production —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –ø–æ–¥–ø–∏—Å—ã–≤–∞—Ç—å —É—Å—Ç–∞–Ω–æ–≤—â–∏–∫–∏

## üêõ –†–µ—à–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º

### –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –Ω–µ –Ω–∞—Ö–æ–¥–∏—Ç—Å—è

1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ –≤–µ—Ä—Å–∏—è –¥–æ–±–∞–≤–ª–µ–Ω–∞ –≤ –ë–î:
```sql
SELECT * FROM launcher_versions WHERE enabled = 1 ORDER BY createdAt DESC;
```

2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ `downloadUrl` –¥–æ—Å—Ç—É–ø–µ–Ω:
```bash
curl -I https://example.com/launcher-1.0.133-Setup.exe
```

3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ –ª–∞—É–Ω—á–µ—Ä–∞ –≤ –∫–æ–Ω—Å–æ–ª–∏ —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∞

### –û—à–∏–±–∫–∞ –ø—Ä–æ–≤–µ—Ä–∫–∏ —Ö–µ—à–∞

1. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ —Ö–µ—à –≤ –ë–î –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π
2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ —Ñ–∞–π–ª –Ω–µ –±—ã–ª –∏–∑–º–µ–Ω–µ–Ω –ø–æ—Å–ª–µ –≤—ã—á–∏—Å–ª–µ–Ω–∏—è —Ö–µ—à–∞
3. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è SHA-256

### –£—Å—Ç–∞–Ω–æ–≤—â–∏–∫ –Ω–µ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è

1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞ –∫ —Ñ–∞–π–ª—É
2. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –ø—É—Ç—å –∫ —Ñ–∞–π–ª—É –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ –≤ –∫–æ–Ω—Å–æ–ª–∏ —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∞

## üìù –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö

```sql
CREATE TABLE launcher_versions (
  id VARCHAR(36) PRIMARY KEY,
  version VARCHAR(50) NOT NULL UNIQUE,
  downloadUrl VARCHAR(500) NULL,
  fileHash VARCHAR(64) NULL,  -- SHA-256 —Ö–µ—à
  fileSize BIGINT NULL,        -- –†–∞–∑–º–µ—Ä –≤ –±–∞–π—Ç–∞—Ö
  releaseNotes TEXT NULL,
  isRequired BOOLEAN NOT NULL DEFAULT FALSE,
  enabled BOOLEAN NOT NULL DEFAULT TRUE,
  createdAt DATETIME(3) NOT NULL DEFAULT CURRENT_TIMESTAMP(3),
  updatedAt DATETIME(3) NOT NULL DEFAULT CURRENT_TIMESTAMP(3) ON UPDATE CURRENT_TIMESTAMP(3),
  
  INDEX idx_version (version),
  INDEX idx_enabled (enabled),
  INDEX idx_createdAt (createdAt)
);
```

## üéØ –õ—É—á—à–∏–µ –ø—Ä–∞–∫—Ç–∏–∫–∏

1. **–í–µ—Ä—Å–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ**: –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ semantic versioning (major.minor.patch)
2. **–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ**: –í—Å–µ–≥–¥–∞ —Ç–µ—Å—Ç–∏—Ä—É–π—Ç–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –ø–µ—Ä–µ–¥ –ø—É–±–ª–∏–∫–∞—Ü–∏–µ–π
3. **–ó–∞–º–µ—Ç–∫–∏**: –î–æ–±–∞–≤–ª—è–π—Ç–µ –ø–æ–Ω—è—Ç–Ω—ã–µ release notes
4. **–û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è**: –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Ç–æ–ª—å–∫–æ –¥–ª—è –∫—Ä–∏—Ç–∏—á–Ω—ã—Ö –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–π –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏
5. **CDN**: –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ CDN –¥–ª—è –±—ã—Å—Ç—Ä–æ–π –∑–∞–≥—Ä—É–∑–∫–∏ —Ñ–∞–π–ª–æ–≤
6. **–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥**: –û—Ç—Å–ª–µ–∂–∏–≤–∞–π—Ç–µ —É—Å–ø–µ—à–Ω–æ—Å—Ç—å –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π

## üìö –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è

- –í–µ—Ä—Å–∏—è –ª–∞—É–Ω—á–µ—Ä–∞ —Ö—Ä–∞–Ω–∏—Ç—Å—è –≤ `packages/frontend/package.json`
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —É–≤–µ–ª–∏—á–µ–Ω–∏–µ –≤–µ—Ä—Å–∏–∏ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –ø—Ä–∏ —Å–±–æ—Ä–∫–µ
- –°–∫—Ä–∏–ø—Ç `update-launcher-version.js` –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–±–Ω–æ–≤–ª—è–µ—Ç –ë–î –ø–æ—Å–ª–µ —Å–±–æ—Ä–∫–∏

---

**–°–¥–µ–ª–∞–Ω–æ —Å ‚ù§Ô∏è –¥–ª—è Modern Minecraft Launcher**

