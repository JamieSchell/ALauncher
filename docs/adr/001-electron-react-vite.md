# ADR-001: Выбор Electron + React + Vite

## Статус
Принято

## Контекст
Необходимо было выбрать технологический стек для десктопного приложения лаунчера Minecraft, которое должно:
- Работать на Windows, Linux и macOS
- Иметь современный пользовательский интерфейс
- Обеспечивать быструю разработку и сборку
- Поддерживать нативные возможности операционной системы
- Иметь хорошую производительность

## Рассмотренные варианты

### 1. Electron + React + Vite
**Плюсы:**
- ✅ Кроссплатформенность из коробки
- ✅ Большое сообщество и экосистема
- ✅ React - популярная библиотека с богатой экосистемой
- ✅ Vite - быстрая сборка и HMR
- ✅ TypeScript поддержка
- ✅ Возможность использовать веб-технологии

**Минусы:**
- ❌ Большой размер приложения (~100-200MB)
- ❌ Высокое потребление памяти

### 2. Tauri + React
**Плюсы:**
- ✅ Меньший размер приложения
- ✅ Меньшее потребление памяти
- ✅ Более безопасный (использует системный браузер)

**Минусы:**
- ❌ Меньше возможностей для нативных интеграций
- ❌ Меньше документации и примеров
- ❌ Молодая экосистема

### 3. Native (C++/Qt, Swift, JavaFX)
**Плюсы:**
- ✅ Наилучшая производительность
- ✅ Нативный вид и поведение

**Минусы:**
- ❌ Требует знания нескольких языков для кроссплатформенности
- ❌ Дольше разработка
- ❌ Сложнее найти разработчиков

### 4. Electron + Vue + Vite
**Плюсы:**
- ✅ Аналогично React + Vite
- ✅ Vue может быть проще для некоторых разработчиков

**Минусы:**
- ❌ Меньше готовых компонентов для игровых лаунчеров
- ❌ Меньше примеров интеграции с Electron

## Решение
Выбран **Electron + React + Vite** по следующим причинам:

1. **Кроссплатформенность**: Electron обеспечивает единую кодовую базу для всех платформ
2. **Экосистема**: React имеет огромную экосистему компонентов и библиотек
3. **Производительность разработки**: Vite обеспечивает мгновенный HMR и быструю сборку
4. **TypeScript**: Полная поддержка типизации для надежности кода
5. **Нативные возможности**: Electron предоставляет доступ к файловой системе, системным уведомлениям, автозапуску и другим нативным функциям
6. **Опыт команды**: Команда имеет опыт работы с React и веб-технологиями

## Последствия

### Положительные
- ✅ Быстрая разработка благодаря знакомым технологиям
- ✅ Легко найти разработчиков с опытом React
- ✅ Богатая экосистема библиотек (React Query, Zustand, Framer Motion)
- ✅ Отличная поддержка TypeScript
- ✅ Быстрая сборка с Vite

### Отрицательные
- ❌ Большой размер приложения (решается сжатием и оптимизацией)
- ❌ Высокое потребление памяти (приемлемо для десктопного приложения)
- ❌ Необходимость настройки безопасности (contextIsolation, nodeIntegration)

## Митигация рисков
- Использование `contextIsolation: true` и `nodeIntegration: false` для безопасности
- Оптимизация бандлов через Vite
- Использование code splitting для уменьшения размера
- Регулярное обновление зависимостей для безопасности

## Альтернативы в будущем
Если размер приложения станет критичной проблемой, можно рассмотреть миграцию на Tauri, сохранив React код.

**Оценка размера при миграции на Tauri:**
- Текущий Electron: ~130-180 MB
- Будущий Tauri: ~3-8 MB
- Экономия: ~90-95% размера
- Трудозатраты: ~5-7 недель разработки

Подробный анализ см. в [TAURI_MIGRATION_ANALYSIS.md](../TAURI_MIGRATION_ANALYSIS.md).

