# Build Scripts

## Автоматическое увеличение версии

При каждой сборке лаунчера версия автоматически увеличивается.

### Скрипты

1. **`increment-version.js`** - Увеличивает patch версию в `package.json` (1.0.0 -> 1.0.1)
   - Запускается автоматически перед сборкой (`prebuild`)
   - Увеличивает только patch версию (третье число)

2. **`update-launcher-version.js`** - Обновляет версию в базе данных MySQL
   - Запускается автоматически после сборки (`postbuild`)
   - Добавляет или обновляет запись в таблице `launcher_versions`

3. **`clean-release.js`** - Очищает папку `release` перед сборкой
   - Удаляет старые файлы сборки
   - Предотвращает ошибки при повторной сборке

### Как это работает

При выполнении команды сборки:

```bash
npm run build:installer
```

Происходит следующее:
1. **increment-version.js** → увеличивает версию (1.0.0 -> 1.0.1)
2. **clean-release.js** → очищает папку release
3. **vite build** → собирает проект
4. **electron-builder** → создает установщик
5. **update-launcher-version.js** → обновляет версию в БД

### Формат версии

Версия следует семантическому версионированию: `major.minor.patch`
- **Major** - значительные изменения (1.0.0 -> 2.0.0)
- **Minor** - новые функции (1.0.0 -> 1.1.0)
- **Patch** - исправления багов (1.0.0 -> 1.0.1) ← **автоматически увеличивается**

