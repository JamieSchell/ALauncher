"use strict";const r=require("electron");r.contextBridge.exposeInMainWorld("electronAPI",{minimizeWindow:()=>r.ipcRenderer.send("window:minimize"),maximizeWindow:()=>r.ipcRenderer.send("window:maximize"),minimizeToTray:()=>r.ipcRenderer.send("window:minimizeToTray"),closeWindow:()=>r.ipcRenderer.send("window:close"),launchGame:e=>r.ipcRenderer.invoke("launcher:launch",e),getAppVersion:()=>r.ipcRenderer.invoke("app:version"),getAppPaths:()=>r.ipcRenderer.invoke("app:paths"),getUpdatesDir:()=>r.ipcRenderer.invoke("app:updatesDir"),findJavaInstallations:()=>r.ipcRenderer.invoke("java:findInstallations"),checkJavaVersion:(e,n)=>r.ipcRenderer.invoke("java:checkVersion",e,n),getJavaVersion:e=>r.ipcRenderer.invoke("java:getVersion",e),selectJavaFile:()=>r.ipcRenderer.invoke("dialog:selectJavaFile"),onGameLog:e=>{r.ipcRenderer.on("game:log",(n,i)=>e(i))},onGameError:e=>{r.ipcRenderer.on("game:error",(n,i)=>e(i))},onGameExit:e=>{r.ipcRenderer.on("game:exit",(n,i)=>e(i))},onGameCrash:e=>{r.ipcRenderer.on("game:crash",(n,i)=>e(i))},onGameConnectionIssue:e=>{r.ipcRenderer.on("game:connection-issue",(n,i)=>e(i))},ensureDir:e=>r.ipcRenderer.invoke("file:ensureDir",e),writeFile:(e,n)=>r.ipcRenderer.invoke("file:writeFile",e,n),deleteFile:e=>r.ipcRenderer.invoke("file:deleteFile",e),readFile:e=>r.ipcRenderer.invoke("file:readFile",e),calculateFileHash:(e,n)=>r.ipcRenderer.invoke("file:calculateHash",e,n),downloadFile:(e,n,i,s)=>new Promise((R,m)=>{const d=`${e}-${n}`,a=(l,o,p)=>{o===d&&i&&i(p)},c=(l,o)=>{o===d&&(r.ipcRenderer.removeListener("file:download:progress",a),r.ipcRenderer.removeListener("file:download:complete",c),r.ipcRenderer.removeListener("file:download:error",t),R())},t=(l,o,p)=>{o===d&&(r.ipcRenderer.removeListener("file:download:progress",a),r.ipcRenderer.removeListener("file:download:complete",c),r.ipcRenderer.removeListener("file:download:error",t),m(new Error(p)))};r.ipcRenderer.on("file:download:progress",a),r.ipcRenderer.on("file:download:complete",c),r.ipcRenderer.on("file:download:error",t),r.ipcRenderer.send("file:download",e,n,s)}),fileExists:e=>r.ipcRenderer.invoke("file:exists",e),showNotification:(e,n,i)=>r.ipcRenderer.invoke("notification:show",e,n,i),httpRequest:e=>r.ipcRenderer.invoke("http:request",e),checkLauncherUpdate:(e,n,i)=>r.ipcRenderer.invoke("launcher:checkUpdate",e,n,i),downloadLauncherUpdate:(e,n)=>{r.ipcRenderer.send("launcher:downloadUpdate",e,n)},cancelLauncherUpdate:()=>{r.ipcRenderer.send("launcher:cancelUpdate")},installLauncherUpdate:(e,n)=>r.ipcRenderer.invoke("launcher:installUpdate",e,n),restartLauncher:()=>{r.ipcRenderer.send("launcher:restart")},onLauncherUpdateProgress:e=>{r.ipcRenderer.on("launcher:update:progress",(n,i)=>e(i))},onLauncherUpdateComplete:e=>{r.ipcRenderer.on("launcher:update:complete",(n,i)=>e(i))},onLauncherUpdateError:e=>{r.ipcRenderer.on("launcher:update:error",(n,i)=>e(i))}});
