"use strict";const e=require("electron");e.contextBridge.exposeInMainWorld("electronAPI",{minimizeWindow:()=>e.ipcRenderer.send("window:minimize"),maximizeWindow:()=>e.ipcRenderer.send("window:maximize"),minimizeToTray:()=>e.ipcRenderer.send("window:minimizeToTray"),closeWindow:()=>e.ipcRenderer.send("window:close"),launchGame:r=>e.ipcRenderer.invoke("launcher:launch",r),getAppVersion:()=>e.ipcRenderer.invoke("app:version"),getAppPaths:()=>e.ipcRenderer.invoke("app:paths"),getUpdatesDir:()=>e.ipcRenderer.invoke("app:updatesDir"),findJavaInstallations:()=>e.ipcRenderer.invoke("java:findInstallations"),checkJavaVersion:(r,n)=>e.ipcRenderer.invoke("java:checkVersion",r,n),getJavaVersion:r=>e.ipcRenderer.invoke("java:getVersion",r),selectJavaFile:()=>e.ipcRenderer.invoke("dialog:selectJavaFile"),onGameLog:r=>{e.ipcRenderer.on("game:log",(n,i)=>r(i))},onGameError:r=>{e.ipcRenderer.on("game:error",(n,i)=>r(i))},onGameExit:r=>{e.ipcRenderer.on("game:exit",(n,i)=>r(i))},onGameCrash:r=>{e.ipcRenderer.on("game:crash",(n,i)=>r(i))},onGameConnectionIssue:r=>{e.ipcRenderer.on("game:connection-issue",(n,i)=>r(i))},ensureDir:r=>e.ipcRenderer.invoke("file:ensureDir",r),writeFile:(r,n)=>e.ipcRenderer.invoke("file:writeFile",r,n),deleteFile:r=>e.ipcRenderer.invoke("file:deleteFile",r),calculateFileHash:(r,n)=>e.ipcRenderer.invoke("file:calculateHash",r,n),downloadFile:(r,n,i,p)=>new Promise((l,t)=>{const o=(s,c)=>{i&&i(c)},a=()=>{e.ipcRenderer.removeListener("file:download:progress",o),e.ipcRenderer.removeListener("file:download:complete",a),e.ipcRenderer.removeListener("file:download:error",d),l()},d=(s,c)=>{e.ipcRenderer.removeListener("file:download:progress",o),e.ipcRenderer.removeListener("file:download:complete",a),e.ipcRenderer.removeListener("file:download:error",d),t(new Error(c))};e.ipcRenderer.once("file:download:progress",o),e.ipcRenderer.once("file:download:complete",a),e.ipcRenderer.once("file:download:error",d),e.ipcRenderer.send("file:download",r,n,p)}),fileExists:r=>e.ipcRenderer.invoke("file:exists",r),showNotification:(r,n,i)=>e.ipcRenderer.invoke("notification:show",r,n,i),checkLauncherUpdate:(r,n)=>e.ipcRenderer.invoke("launcher:checkUpdate",r,n),downloadLauncherUpdate:(r,n)=>{e.ipcRenderer.send("launcher:downloadUpdate",r,n)},cancelLauncherUpdate:()=>{e.ipcRenderer.send("launcher:cancelUpdate")},installLauncherUpdate:r=>e.ipcRenderer.invoke("launcher:installUpdate",r),restartLauncher:()=>{e.ipcRenderer.send("launcher:restart")},onLauncherUpdateProgress:r=>{e.ipcRenderer.on("launcher:update:progress",(n,i)=>r(i))},onLauncherUpdateComplete:r=>{e.ipcRenderer.on("launcher:update:complete",(n,i)=>r(i))},onLauncherUpdateError:r=>{e.ipcRenderer.on("launcher:update:error",(n,i)=>r(i))}});
